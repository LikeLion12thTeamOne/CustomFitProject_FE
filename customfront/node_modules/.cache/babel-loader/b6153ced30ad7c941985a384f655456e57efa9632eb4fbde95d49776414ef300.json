{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC120\\uC9C0\\uC624\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\customfe\\\\CustomFitProject_FE\\\\customfront\\\\src\\\\page\\\\login.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as h from \"../style/styledlogin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [csrfToken, setCsrfToken] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    // CSRF 토큰을 가져오는 함수\n    const fetchCsrfToken = async () => {\n      // 실제 CSRF 토큰을 가져오는 로직을 추가해야 함\n      // 여기서는 로컬 스토리지에서 가져오는 예시\n      const token = localStorage.getItem('csrftoken');\n      setCsrfToken(token);\n    };\n    fetchCsrfToken();\n  }, []);\n  const handleLogin = async () => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/rest-auth/login/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-CSRFToken\": csrfToken\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"로그인 실패\");\n      }\n      const data = await response.json();\n      console.log(\"로그인 성공:\", data);\n\n      // 토큰을 localStorage에 저장\n      localStorage.setItem('token', data.token);\n\n      // 로그인 성공 후 네비게이션 처리\n      navigate(`/main2`);\n    } catch (error) {\n      console.error(error);\n      alert(\"로그인 실패: 사용자 이름이나 비밀번호를 확인하세요.\");\n    }\n  };\n  const LottiePlayer = () => {\n    _s();\n    useEffect(() => {\n      const script = document.createElement(\"script\");\n      script.src = \"https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs\";\n      script.type = \"module\";\n      document.body.appendChild(script);\n      return () => {\n        document.body.removeChild(script);\n      };\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"dotlottie-player\", {\n      src: \"https://lottie.host/8a90597c-f6df-4de5-a72b-a7e8cfb6d37e/lN0eGr8bK9.json\",\n      background: \"transparent\",\n      speed: \"1\",\n      style: {\n        position: \"absolute\",\n        width: \"300px\",\n        height: \"300px\",\n        top: \"200px\",\n        left: \"50px\"\n      },\n      loop: true,\n      autoplay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  };\n  _s(LottiePlayer, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n  const goMembership = () => {\n    navigate(`/membership`);\n  };\n  return /*#__PURE__*/_jsxDEV(h.Container, {\n    children: [/*#__PURE__*/_jsxDEV(h.Title, {\n      children: /*#__PURE__*/_jsxDEV(h.Box, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      id: \"logintitle\",\n      src: `${process.env.PUBLIC_URL}/logo/logintitle.svg`,\n      alt: \"logintitle\",\n      style: {\n        position: \"absolute\",\n        top: \"8px\",\n        left: \"8px\",\n        cursor: \"pointer\"\n      },\n      onClick: () => navigate(-1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LottiePlayer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(h.InsertA, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"Id\",\n        placeholder: \"ID\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        style: {\n          outline: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(h.InsertB, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"Pw\",\n        placeholder: \"PASSWORD\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        style: {\n          outline: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(h.LoginBox, {\n      onClick: handleLogin,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"LoginText\",\n        style: {\n          cursor: \"pointer\"\n        },\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(h.MembershipBox, {\n      onClick: goMembership,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"MembershipText\",\n        style: {\n          cursor: \"pointer\"\n        },\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s2(Login, \"RWIryEPjZBbA3Uw66WcGGjmVaQ4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","h","jsxDEV","_jsxDEV","Login","_s2","_s","$RefreshSig$","username","setUsername","password","setPassword","csrfToken","setCsrfToken","navigate","fetchCsrfToken","token","localStorage","getItem","handleLogin","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","console","log","setItem","error","alert","LottiePlayer","script","document","createElement","src","type","appendChild","removeChild","background","speed","style","position","width","height","top","left","loop","autoplay","fileName","_jsxFileName","lineNumber","columnNumber","goMembership","Container","children","Title","Box","id","process","env","PUBLIC_URL","alt","cursor","onClick","InsertA","placeholder","value","onChange","e","target","outline","InsertB","LoginBox","MembershipBox","_c","$RefreshReg$"],"sources":["C:/Users/선지오/OneDrive/바탕 화면/customfe/CustomFitProject_FE/customfront/src/page/login.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport * as h from \"../style/styledlogin\";\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [csrfToken, setCsrfToken] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // CSRF 토큰을 가져오는 함수\r\n    const fetchCsrfToken = async () => {\r\n      // 실제 CSRF 토큰을 가져오는 로직을 추가해야 함\r\n      // 여기서는 로컬 스토리지에서 가져오는 예시\r\n      const token = localStorage.getItem('csrftoken');\r\n      setCsrfToken(token);\r\n    };\r\n\r\n    fetchCsrfToken();\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await fetch(\"http://127.0.0.1:8000/rest-auth/login/\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"X-CSRFToken\": csrfToken,\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"로그인 실패\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log(\"로그인 성공:\", data);\r\n\r\n      // 토큰을 localStorage에 저장\r\n      localStorage.setItem('token', data.token);\r\n\r\n      // 로그인 성공 후 네비게이션 처리\r\n      navigate(`/main2`);\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"로그인 실패: 사용자 이름이나 비밀번호를 확인하세요.\");\r\n    }\r\n  };\r\n\r\n  const LottiePlayer = () => {\r\n    useEffect(() => {\r\n      const script = document.createElement(\"script\");\r\n      script.src =\r\n        \"https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs\";\r\n      script.type = \"module\";\r\n      document.body.appendChild(script);\r\n\r\n      return () => {\r\n        document.body.removeChild(script);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <dotlottie-player\r\n        src=\"https://lottie.host/8a90597c-f6df-4de5-a72b-a7e8cfb6d37e/lN0eGr8bK9.json\"\r\n        background=\"transparent\"\r\n        speed=\"1\"\r\n        style={{ position: \"absolute\", width: \"300px\", height: \"300px\", top: \"200px\", left: \"50px\" }}\r\n        loop\r\n        autoplay\r\n      ></dotlottie-player>\r\n    );\r\n  };\r\n\r\n  const goMembership = () => {\r\n    navigate(`/membership`);\r\n  };\r\n\r\n  return (\r\n    <h.Container>\r\n      <h.Title>\r\n        <h.Box></h.Box>\r\n      </h.Title>\r\n      <img\r\n        id=\"logintitle\"\r\n        src={`${process.env.PUBLIC_URL}/logo/logintitle.svg`}\r\n        alt=\"logintitle\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"8px\",\r\n          left: \"8px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={() => navigate(-1)}\r\n      />\r\n      <LottiePlayer />\r\n\r\n      <h.InsertA>\r\n        <input\r\n          type=\"text\"\r\n          id=\"Id\"\r\n          placeholder=\"ID\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          style={{ outline: \"none\" }}\r\n        />\r\n      </h.InsertA>\r\n      <h.InsertB>\r\n        <input\r\n          type=\"password\"\r\n          id=\"Pw\"\r\n          placeholder=\"PASSWORD\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          style={{ outline: \"none\" }}\r\n        />\r\n      </h.InsertB>\r\n\r\n      <h.LoginBox onClick={handleLogin}>\r\n        <div id=\"LoginText\" style={{ cursor: \"pointer\" }}>\r\n          로그인\r\n        </div>\r\n      </h.LoginBox>\r\n\r\n      <h.MembershipBox onClick={goMembership}>\r\n        <div id=\"MembershipText\" style={{ cursor: \"pointer\" }}>\r\n          회원가입\r\n        </div>\r\n      </h.MembershipBox>\r\n    </h.Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}